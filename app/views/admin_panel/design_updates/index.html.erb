<div class="admin-design-updates-page">
  <div class="page-header">
    <h1>Design Updates</h1>
    <div class="header-actions">
      <%= button_to "New Design Update", new_admin_panel_design_update_path, method: :get, class: "btn btn-primary", form: { style: 'display: inline;' } %>
    </div>
  </div>

  <% if @design_updates.any? %>
    <div class="updates-table-wrapper">
      <table class="updates-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Title</th>
            <th>PDF</th>
            <th class="actions-column">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @design_updates.each do |update| %>
            <tr>
              <td class="update-date"><%= update.update_date.strftime("%b %d, %Y") %></td>
              <td class="update-title"><%= update.title %></td>
              <td class="pdf-cell">
                <% if update.pdf_file.attached? %>
                  <%= button_to "View PDF", rails_blob_path(update.pdf_file, disposition: "inline"),
                             method: :get,
                             class: "btn btn-primary btn-sm",
                             form: { style: 'display: inline;', target: '_blank' } %>
                <% else %>
                  <span class="no-pdf">No PDF</span>
                <% end %>
              </td>
              <td class="actions-cell">
                <%= button_to "Edit", edit_admin_panel_design_update_path(update), method: :get, class: "btn btn-outline", form: { style: 'display: inline;' } %>
                <%= button_to "Delete",
                           admin_panel_design_update_path(update),
                           method: :delete,
                           class: "btn btn-danger",
                           data: { turbo_confirm: "Are you sure you want to delete this design update?" },
                           form: { style: 'display: inline;' } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <div class="empty-state">
      <p>No design updates yet. Create your first design update to share with users.</p>
    </div>
  <% end %>

  <div class="page-footer">
    <%= button_to 'Back to Admin Dashboard', admin_panel_root_path, method: :get, class: "btn btn-outline", form: { style: 'display: inline;' } %>
  </div>
</div>