<h1>Event Management</h1>

<div class="actions">
  <%= link_to "Create New Event", new_admin_event_path %>
</div>

<div class="events-section">
  <h2>Upcoming Events</h2>
  <% if @upcoming_events.any? %>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Date</th>
          <th>Location</th>
          <th>Capacity</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @upcoming_events.each do |event| %>
          <tr>
            <td><%= event.title %></td>
            <td><%= event.formatted_date %></td>
            <td><%= event.location %></td>
            <td><%= event.capacity %></td>
            <td>
              <%= link_to "View", admin_event_path(event) %>
              <%= link_to "Edit", edit_admin_event_path(event) %>
              <%= button_to 'Delete', admin_event_path(event),
                method: :delete,
                data: { confirm: "Are you sure you want to delete this event?" } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p>No upcoming events scheduled.</p>
  <% end %>
</div>

<div class="events-section">
  <h2>Past Events</h2>
  <% if @past_events.any? %>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Date</th>
          <th>Location</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @past_events.limit(10).each do |event| %>
          <tr>
            <td><%= event.title %></td>
            <td><%= event.formatted_date %></td>
            <td><%= event.location %></td>
            <td>
              <%= link_to "View", admin_event_path(event) %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p>No past events found.</p>
  <% end %>
</div>

<div class="actions">
  <a href="/admin/dashboard">Back to Dashboard</a>
</div>