<%= form_with(model: resume, url: user_resume_path(@user, return_to: @return_to), method: resume.new_record? ? :post : :patch, class: "resume-form") do |form| %>
  <% if resume.errors.any? %>
    <div class="form-errors">
      <h2><%= pluralize(resume.errors.count, "error") %> prevented this resume from being saved:</h2>
      <ul>
        <% resume.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.label :gpa, "GPA *", class: "form-label" %>
    <%= form.number_field :gpa, step: 0.01, min: 0, max: 4, required: true, class: "form-control", placeholder: "e.g., 3.75" %>
    <small class="form-hint">Enter your current GPA on a 4.0 scale</small>
  </div>

  <div class="form-group">
    <%= form.label :graduation_date, "Graduation Year *", class: "form-label" %>
    <%= form.select :graduation_date, ((Date.today.year - 4)...(Date.today.year + 8)).to_a.reverse,
        { prompt: "Select Graduation Year" },
        { required: true, class: "form-control" } %>
    <small class="form-hint">When do you expect to graduate?</small>
  </div>

  <div class="form-group">
    <%= form.label :major, "Major *", class: "form-label" %>
    <%= form.select :major, ["Aerospace Engineering", "Civil Engineering", "Computer Science", "Computer Engineering", "Mechanical Engineering"],
        { prompt: "Select Major" },
        { required: true, class: "form-control" } %>
    <small class="form-hint">Choose your primary field of study</small>
  </div>

  <div class="form-group">
    <%= form.label :file, "Upload Resume (PDF only) *", class: "form-label" %>
    <%= form.file_field :file, accept: 'application/pdf', required: true, class: "form-control-file" %>
    <small class="form-hint">Please upload your resume as a PDF file</small>
  </div>

  <div class="form-actions">
    <%= form.submit "Submit Resume", class: "btn btn-primary" %>
  </div>
<% end %>
